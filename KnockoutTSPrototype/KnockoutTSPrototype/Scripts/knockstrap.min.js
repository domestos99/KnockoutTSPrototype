/*! knockstrap 1.4.0 http://faulknercs.github.io/Knockstrap/ | (c) 2013-2017 Artem Stepanyuk |  http://www.opensource.org/licenses/mit-license */
(function(n){"use strict";if(typeof ko!="undefined"&&typeof jQuery!="undefined")n(ko,jQuery);else if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object")n(require("knockout"),require("jquery"));else if(typeof define=="function"&&define.amd)define(["knockout","jquery"],n);else throw new Error("Could not locate current context reference to knockout and jQuery in order to load Knockstrap");})(function(n,t){"use strict";function f(t){var i=this;i.isAligned=t.isAligned;i.currentPage=t.currentPage;i.totalCount=t.totalCount;i.pageSize=t.pageSize;i.text=t.text;i.pagesCount=n.computed(function(){var t=n.unwrap(i.totalCount),r=n.unwrap(i.pageSize);return Math.max(Math.ceil(t/r),1)});i.isBackDisabled=n.computed(function(){return i.currentPage()===1});i.isForwardDisabled=n.computed(function(){return i.currentPage()===i.pagesCount()});i.goBack=function(){if(!i.isBackDisabled()){var n=i.currentPage();i.currentPage(n-1)}};i.goForward=function(){if(!i.isForwardDisabled()){var n=i.currentPage();i.currentPage(n+1)}}}function s(t){var i=this,u,e;f.call(i,t);u=function(){var t=+n.unwrap(i.maxPages);return(Math.ceil(i.currentPage()/t)-1)*t+1};e=function(t){var r=+n.unwrap(i.maxPages);return Math.min(t+r-1,i.pagesCount())};i.maxPages=t.maxPages;i.boundary=t.boundary;i.directions=t.directions;i.text=t.text;i.pages=n.computed(function(){for(var t=[],f=u(),o=e(f),n=f;n<=o;n++)t.push(new r(n,n,n===i.currentPage()));return f>1&&t.unshift(new r(f-1,"...")),o<i.pagesCount()&&t.push(new r(o+1,"...")),t});i.selectPage=function(n){i.currentPage(n.number)};i.goFirst=function(){i.isBackDisabled()||i.currentPage(1)};i.goLast=function(){i.isForwardDisabled()||i.currentPage(i.pagesCount())}}function r(n,t,i){this.number=n;this.text=t||n;this.isActive=!!i}function e(t){var i=n.unwrap(t);if(typeof i=="number")return new o({value:t});if(typeof n.unwrap(i.value)=="number")return new o(i);throw new Error('progress binding can accept only numbers or objects with "value" number property');}function o(i){var r=this;t.extend(r,n.bindingHandlers.progress.defaults,i);r.barWidth=n.computed(function(){return n.unwrap(r.value)+"%"});r.barType=n.computed(function(){var t=n.unwrap(r.type);return t?"progress-bar-"+t:""})}var i,u;n.utils.uniqueId=function(){var n={"ks-unique-":0};return function(t){return t=t||"ks-unique-",n[t]||(n[t]=0),t+n[t]++}}();n.utils.unwrapProperties=n.toJS,function(){var t={};t.alert='<div class="alert fade in" data-bind="css: type, template: innerTemplate">\n<\/div>';t.alertInner='<button class="close" data-dismiss="alert" aria-hidden="true">&times;<\/button>\n<p data-bind="text: message"><\/p>';t.carousel='<!-- ko template: indicatorsTemplate -->\n<!-- /ko -->\n<div class="carousel-inner">\n    <!-- ko foreach: items -->\n    <div class="item" data-bind="with: $parent.converter($data), css: { active: $index() == 0 }">\n        <img data-bind="attr: { src: src, alt: alt }">\n        <div class="container">\n            <div class="carousel-caption">\n                <!-- ko template: { name: $parents[1].itemTemplateName, data: $data, templateEngine: $parents[1].templateEngine,\n                    afterRender: $parents[1].afterRender, afterAdd: $parents[1].afterAdd, beforeRemove: $parents[1].beforeRemove } -->\n                <!-- /ko -->\n            <\/div>\n        <\/div>\n    <\/div>\n    <!-- /ko -->\n<\/div>\n<!-- ko template: controlsTemplate -->\n<!-- /ko -->\n';t.carouselContent='<div data-bind="text: content"><\/div>';t.carouselControls='<a class="left carousel-control" data-bind="attr: { href: id }" data-slide="prev">\n    <span class="icon-prev"><\/span>\n<\/a>\n<a class="right carousel-control" data-bind="attr: { href: id }" data-slide="next">\n    <span class="icon-next"><\/span>\n<\/a>';t.carouselIndicators='<ol class="carousel-indicators" data-bind="foreach: items">\n    <li data-bind="attr: { \'data-target\': $parent.id, \'data-slide-to\': $index }, css: { active: $index() == 0 }"><\/li>\n<\/ol>\n';t.modal='<div class="modal-dialog" data-bind="css: dialogCss">\n    <div class="modal-content">\n        <div class="modal-header" data-bind="template: headerTemplate">\n        <\/div>\n\n        <div class="modal-body" data-bind="template: bodyTemplate">\n        <\/div>\n        <!-- ko if: footerTemplate -->\n        <div class="modal-footer" data-bind="template: footerTemplate">\n        <\/div>\n        <!-- /ko -->\n    <\/div>\n<\/div>';t.modalBody='<div data-bind="html: content">\n<\/div>';t.modalFooter='<!-- ko if: $data.action -->\n<a href="#" class="btn btn-primary" data-bind="click: action, html: primaryLabel"><\/a>\n<!-- /ko -->\n<a href="#" class="btn btn-default" data-bind="html: closeLabel" data-dismiss="modal"><\/a>';t.modalHeader='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;<\/button>\n<h3 data-bind="text: label" class="modal-title"><\/h3>\n';t.pager='<ul class="pager">\n    <li data-bind="css: { previous: isAligned, disabled: isBackDisabled }">\n        <a href="#" data-bind="with: text, click: goBack">\n            <span data-bind="html: back"><\/span>\n        <\/a>\n    <\/li>\n    <li data-bind="css: { next: isAligned, disabled: isForwardDisabled }">\n        <a href="#" data-bind="with: text, click: goForward">\n            <span data-bind="html: forward"><\/span>\n        <\/a>\n    <\/li>\n<\/ul>\n';t.pagination='<ul class="pagination">\n    <!-- ko if: boundary -->\n    <li class="ks-boundary-first" data-bind="css: { disabled: isBackDisabled }">\n        <a href="#" data-bind="with: text, click: goFirst">\n            <span data-bind="html: first"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n    \n    <!-- ko if: directions -->\n    <li class="ks-direction-back" data-bind="css: { disabled: isBackDisabled }">\n        <a href="#" data-bind="with: text, click: goBack">\n            <span data-bind="html: back"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n\n    <!-- ko foreach: pages -->\n    <li data-bind="css: { active: isActive }">\n        <a href="#" data-bind="text: text, click: $parent.selectPage"><\/a>\n    <\/li>\n    <!-- /ko -->\n    \n    <!-- ko if: directions -->\n    <li class="ks-direction-forward" data-bind="css: { disabled: isForwardDisabled }">\n        <a href="#" data-bind="with: text, click: goForward">\n            <span data-bind="html: forward"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n\n    <!-- ko if: boundary -->\n    <li class="ks-boundary-last" data-bind="css: { disabled: isForwardDisabled }">\n        <a href="#" data-bind="with: text, click: goLast">\n            <span data-bind="html: last"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n<\/ul>';t.progress='<!-- ko foreach: $data -->\n<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"\n    data-bind="style: { width: barWidth }, attr: { \'aria-valuenow\': value }, css: { active: animated, \'progress-bar-striped\': striped }, \'class\': barType">\n    <span data-bind="css: { \'sr-only\': textHidden }">\n        <span data-bind="text: value"><\/span>% <span data-bind="text: text"><\/span>\n    <\/span>\n<\/div>\n<!-- /ko -->';n.templateSources.stringTemplate=function(n){this.templateName=n;this.data=function(n,i){if(t.data=t.data||{},t.data[this.templateName]=t.data[this.templateName]||{},arguments.length===1)return t.data[this.templateName][n];t.data[this.templateName][n]=i};this.text=function(n){if(arguments.length===0)return t[this.templateName];t[this.templateName]=n}};n.stringTemplateEngine=function(){this.allowTemplateRewriting=!1};n.stringTemplateEngine.prototype=new n.nativeTemplateEngine;n.stringTemplateEngine.prototype.constructor=n.stringTemplateEngine;n.stringTemplateEngine.prototype.makeTemplateSource=function(t){return new n.templateSources.stringTemplate(t)};n.stringTemplateEngine.prototype.getTemplate=function(n){return t[n]};n.stringTemplateEngine.prototype.addTemplate=function(n,i){if(arguments.length<2)throw new Error("template is not provided");t[n]=i};n.stringTemplateEngine.prototype.removeTemplate=function(n){if(!n)throw new Error("template name is not provided");delete t[n]};n.stringTemplateEngine.prototype.isTemplateExist=function(n){return!!t[n]};n.stringTemplateEngine.instance=new n.stringTemplateEngine}();n.bindingHandlers.alert={init:function(){return{controlsDescendantBindings:!0}},update:function(i,r,u,f,e){var c=t(i),o=r(),l=o.template?null:n.stringTemplateEngine.instance,a=n.unwrap(o.template)||"alertInner",s,h;if(i.nodeType===(typeof Node!="undefined"&&Node.ELEMENT_NODE||1))s=a,h=o.data||{message:o.message},c.removeClass("alert-info alert-danger alert-success "),c.addClass("alert fade in").addClass("alert-"+(n.unwrap(o.type)||"info"));else if(i.nodeType===(typeof Node!="undefined"&&Node.COMMENT_NODE||8))s="alert",h={innerTemplate:{name:a,data:o.data||{message:o.message},templateEngine:l},type:"alert-"+(n.unwrap(o.type)||"info")};else throw new Error("alert binding should be used with dom elements or ko virtual elements");n.renderTemplate(s,e.createChildContext(h),n.utils.extend({templateEngine:l},o.templateOptions),i)}};n.virtualElements.allowedBindings.alert=!0;n.bindingHandlers.carousel={defaults:{css:"carousel slide",controlsTemplate:{name:"carouselControls",templateEngine:n.stringTemplateEngine.instance,dataConverter:function(t){return{id:n.computed(function(){return"#"+n.unwrap(t.id)})}}},indicatorsTemplate:{name:"carouselIndicators",templateEngine:n.stringTemplateEngine.instance,dataConverter:function(t){return{id:n.computed(function(){return"#"+n.unwrap(t.id)}),items:t.content.data}}},itemTemplate:{name:"carouselContent",templateEngine:n.stringTemplateEngine.instance,converter:function(n){return n}}},init:function(i,r,u,f,e){var l=t(i),o=r(),s=n.bindingHandlers.carousel.defaults,h=function(n,i){var r={name:n.name,data:o[i]&&(o[i].data||o[i].dataConverter&&o[i].dataConverter(o))||n.dataConverter(o)};return r=t.extend(!0,{},r,o[i]),o[i]&&o[i].name||(r.templateEngine=n.templateEngine),r},c;if(!o.content)throw new Error("content option is required for carousel binding");return i.id?o.id=i.id:i.id=o.id?n.unwrap(o.id):o.id=n.utils.uniqueId("ks-carousel-"),c={id:o.id,controlsTemplate:h(s.controlsTemplate,"controls"),indicatorsTemplate:h(s.indicatorsTemplate,"indicators"),items:o.content.data,converter:o.content.converter||s.itemTemplate.converter,itemTemplateName:o.content.name||s.itemTemplate.name,templateEngine:o.content.name?null:s.itemTemplate.templateEngine,afterRender:o.content.afterRender,afterAdd:o.content.afterAdd,beforeRemove:o.content.beforeRemove},n.renderTemplate("carousel",e.createChildContext(c),{templateEngine:n.stringTemplateEngine.instance},i),l.addClass(s.css),{controlsDescendantBindings:!0}},update:function(i,r){var u=r(),f=n.unwrap(u.options);t(i).carousel(f)}};n.bindingHandlers.checkbox={init:function(i,r){var u=t(i),f=function(i){setTimeout(function(){var e=t(i.target),u=r(),s=e.val(),o=e.parent().hasClass("active"),f;e.prop("disabled")||(n.unwrap(u)instanceof Array?(f=n.utils.arrayIndexOf(n.unwrap(u),s),o&&f===-1?u.push(s):o||f===-1||u.splice(f,1)):u(o))},0)};if(u.attr("data-toggle")==="buttons"&&u.find("input:checkbox").length){if(!(n.unwrap(r())instanceof Array))throw new Error("checkbox binding should be used only with array or observableArray values in this case");u.on("change","input:checkbox",f)}else if(u.attr("type")==="checkbox"){if(!n.isObservable(r()))throw new Error("checkbox binding should be used only with observable values in this case");u.on("change",f)}else throw new Error("checkbox binding should be used only with bootstrap checkboxes");},update:function(i,r){var f=t(i),e=n.unwrap(r()),u;e instanceof Array?f.attr("data-toggle")==="buttons"?f.find("input:checkbox").each(function(i,r){u=n.utils.arrayIndexOf(e,r.value)!==-1;t(r).parent().toggleClass("active",u);r.checked=u}):(u=n.utils.arrayIndexOf(e,f.val())!==-1,f.toggleClass("active",u),f.find("input").prop("checked",u)):(u=!!e,f.prop("checked",u),f.parent().toggleClass("active",u))}};i="__ko__previousClassValue__";n.bindingHandlers["class"]={update:function(t,r){t[i]&&n.utils.toggleDomNodeCssClass(t,t[i],!1);var u=n.unwrap(r());n.utils.toggleDomNodeCssClass(t,u,!0);t[i]=u}};n.bindingHandlers.modal={defaults:{css:"modal fade",dialogCss:"",attributes:{role:"dialog"},events:{shown:"shown.bs.modal",hidden:"hidden.bs.modal"},headerTemplate:{name:"modalHeader",templateEngine:n.stringTemplateEngine.instance},bodyTemplate:{name:"modalBody",templateEngine:n.stringTemplateEngine.instance},footerTemplate:{name:"modalFooter",templateEngine:n.stringTemplateEngine.instance,data:{closeLabel:"Close",primaryLabel:"Ok"}}},init:function(i,r,u,f,e){var h=t(i),o=r(),s=n.bindingHandlers.modal.defaults,a=t.extend({},s.events,n.toJS(o.events)),c=n.utils.extend({show:h.data().show||!1},n.toJS(o.options)),l=function(n,i){var r={name:n.name,data:n.data};return r=t.extend(!0,{},r,i),i&&i.name||(r.templateEngine=n.templateEngine),r},v;if(!o.header||!o.body)throw new Error("header and body options are required for modal binding.");(c.keyboard||typeof c.keyboard=="undefined")&&h.attr("tabindex",-1);v={dialogCss:o.dialogCss||s.dialogCss,headerTemplate:l(s.headerTemplate,n.unwrap(o.header)),bodyTemplate:l(s.bodyTemplate,n.unwrap(o.body)),footerTemplate:o.footer?l(s.footerTemplate,n.unwrap(o.footer)):null};n.renderTemplate("modal",e.createChildContext(v),{templateEngine:n.stringTemplateEngine.instance},i);h.addClass(s.css).attr(s.attributes);h.modal(c);h.on(a.shown,function(){typeof o.visible=="undefined"||typeof o.visible!="function"||n.isComputed(o.visible)||o.visible(!0);t(this).find("[autofocus]:first").focus()});if(typeof o.visible!="undefined"&&typeof o.visible=="function"&&!n.isComputed(o.visible)){h.on(a.hidden,function(){o.visible(!1)});c.show&&o.visible(!0)}return{controlsDescendantBindings:!0}},update:function(i,r){var u=r();typeof u.visible!="undefined"&&t(i).modal(n.unwrap(u.visible)?"show":"hide")}};n.bindingHandlers.pagination={defaults:{maxPages:5,pageSize:10,directions:!0,boundary:!0,text:{first:"First",last:"Last",back:"&laquo;",forward:"&raquo;"}},init:function(i,r,u,f,e){var o=t.extend(!0,{},n.bindingHandlers.pagination.defaults,r()),h;if(!n.isObservable(o.currentPage))throw new TypeError("currentPage should be observable");return t.isNumeric(o.currentPage())||o.currentPage(1),h=new s(o),n.renderTemplate("pagination",e.createChildContext(h),{templateEngine:n.stringTemplateEngine.instance},i),{controlsDescendantBindings:!0}}};n.bindingHandlers.pager={defaults:{pageSize:10,text:{back:"&larr;",forward:"&rarr;"}},init:function(i,r,u,e,o){var s=t.extend(!0,{},n.bindingHandlers.pager.defaults,r()),h;if(!n.isObservable(s.currentPage))throw new TypeError("currentPage should be observable");return t.isNumeric(s.currentPage())||s.currentPage(1),h=new f(s),n.renderTemplate("pager",o.createChildContext(h),{templateEngine:n.stringTemplateEngine.instance},i),{controlsDescendantBindings:!0}}};u="__popoverTemplateKey__";n.bindingHandlers.popover={init:function(i){var r=t(i);n.utils.domNodeDisposal.addDisposeCallback(i,function(){r.data("bs.popover")&&r.popover("destroy")})},update:function(i,r,f,e,o){var h=t(i),s=n.unwrap(r()),c=(!s.options&&!s.template?n.utils.unwrapProperties(s):n.utils.unwrapProperties(s.options))||{},l,v,a;if(s.template){if(n.unwrap(s.template),l=n.utils.domData.get(i,u),v=function(i){var u,f,e;i&&i.type==="inserted"&&h.off("shown.bs.popover");u=n.unwrap(s.template);f=typeof u=="string"?{$$popoverTemplate:t.extend({name:s.template,data:s.data},s.templateOptions)}:{$$popoverTemplate:s.template};e=o.createChildContext(o.$rawData,null,function(t){n.utils.extend(t,f)});n.applyBindingsToDescendants(e,document.getElementById(l));var a=t("#"+l).parents(".popover"),r=h.data("bs.popover"),v=r.getCalculatedOffset(c.placement||"right",r.getPosition(),a.outerWidth(),a.outerHeight());r.applyPlacement(v,c.placement||"right")},!l){l=n.utils.uniqueId("ks-popover-");n.utils.domData.set(i,u,l);h.on("shown.bs.popover inserted.bs.popover",v)}c.content='<div id="'+l+'" ><div data-bind="template: $$popoverTemplate"><\/div><\/div>';c.html=!0}if(a=h.data("bs.popover"),a)n.utils.extend(a.options,c),a.options.content?h.popover("show"):h.popover("hide");else{h.popover(c);h.on("shown.bs.popover inserted.bs.popover",function(){(c.container?t(c.container):h.parent()).one("click",'[data-dismiss="popover"]',function(){h.popover("hide")})})}}};n.bindingHandlers.progress={defaults:{css:"progress",text:"",textHidden:!0,striped:!1,type:"",animated:!1},init:function(i,r){var s=t(i),u=r(),f=n.unwrap(u),h=n.bindingHandlers.progress.defaults,o;return o=f instanceof Array?f.map(function(n){return e(n)}):[e(u)],n.renderTemplate("progress",o,{templateEngine:n.stringTemplateEngine.instance},i),s.addClass(h.css),{controlsDescendantBindings:!0}}};n.bindingHandlers.radio={init:function(i,r){if(!n.isObservable(r()))throw new Error("radio binding should be used only with observable values");t(i).on("change","input:radio",function(n){setTimeout(function(){var i=t(n.target),u=r(),f=i.val();i.prop("disabled")||u(f)},0)})},update:function(i,r){var e=n.unwrap(r())||"",f=t(i).find('input[value="'+e.toString().replace(/"/g,'\\"')+'"]'),u;f.length?(u=f.parent(),u.siblings().removeClass("active"),u.addClass("active"),f.prop("checked",!0)):(u=t(i).find(".active"),u.removeClass("active"),u.find("input").prop("checked",!1))}};n.bindingHandlers.toggle={init:function(i,r){var u=r();if(!n.isObservable(u))throw new Error("toggle binding should be used only with observable values");t(i).on("click",function(t){t.preventDefault();var i=n.unwrap(u);u(!i)})},update:function(t,i){n.utils.toggleDomNodeCssClass(t,"active",n.unwrap(i()))}};n.bindingHandlers.tooltip={init:function(i){var r=t(i);n.utils.domNodeDisposal.addDisposeCallback(i,function(){r.data("bs.tooltip")&&r.tooltip("destroy")})},update:function(i,r){var u=t(i),o=n.unwrap(r()),f=n.utils.unwrapProperties(o),e=u.data("bs.tooltip");e?n.utils.extend(e.options,f):u.tooltip(f)}}});